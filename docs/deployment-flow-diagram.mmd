flowchart TD
    A[Git Push / PR] --> B[Terraform Lint]
    B --> C[IaC Scan]
    C --> D[YAML Lint]
    D --> E[React Lint]
    E --> F[React Test]
    F --> G[Upload Logs & Coverage]
    G --> H[Dependency Check]
    H --> I[React Build]
    I --> J[Trivy Scan]
    J --> K[Upload Build Log]
    K --> L[Terraform Plan (PR only)]
    L --> M[AWS Identity Test (non-PR)]
    M --> N[Terraform Apply (non-PR)]
    N --> O[React Build for Deploy]
    O --> P[Validate Build Output]
    P --> Q[Amplify Publish]
    Q --> R[Notify Mattermost]
    R --> S[Show & Upload Deploy Log]
    S --> T[Mirror Repo]
    T --> U[Website Published]
